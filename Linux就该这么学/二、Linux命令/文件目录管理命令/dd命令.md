# dd命令

dd 命令用于按照指定大小和个数的数据块复制文件或转换文件，语法格式为“dd if=参数值 of=参数值 count=参数值 bs=参数值”。

dd 命令是一个比较重要而且比较有特色的命令，它能够让用户按照指定大小和个数的数据块来复制文件的内容。当然，如果愿意的话，还可以在复制过程中转换其中的数据。Linux 系统中有一个名为/dev/zero 的设备文件，每次在课堂上解释它时总会延伸出富含思辨性的理论探讨。因为这个文件不占用系统存储空间，但却可以提供无穷无尽的数据，因此常常使用它作为 dd 命令的输入文件，以生成一个指定大小的文件。dd 命令的参数及其作用如表 2-21 所示。

**dd 命令的参数及其作用**

| 参数  |          作用          |
| :---: | :--------------------: |
|  if   |     输入的文件名称     |
|  of   |     输出的文件名称     |
|  bs   |   设置每个“块”的大小   |
| count | 设置要复制的“块”的个数 |

例如，用 dd 命令从/dev/zero 设备文件中取出一个大小为 560MB 的数据块，然后保存成名为 560_file 的文件。在理解了这个命令后，以后就能随意创建任意大小的文件了：
```shell
root@linuxprobe:~# dd if=/dev/zero of=560_file count=1 bs=560M
1+0 records in
1+0 records out
587202560 bytes (587 MB, 560 MiB) copied, 14.7741 s, 39.7 MB/s
```
dd 命令的功能也绝不仅限于复制文件这么简单。如果想把光驱设备中的光盘制作成.iso 格式的镜像文件，在 Windows 系统中需要借助第三方软件才能做到，但在 Linux 系统中可以直接使用 dd 命令压制出光盘镜像文件，将它变成一个可立即使用的 ISO 镜像：
```shell
root@linuxprobe:~# dd if=/dev/cdrom of=RHEL-server-10.0-x86_64-LinuxProbe.Com.iso
13554816+0 records in
13554816+0 records out
6940065792 bytes (6.9 GB, 6.5 GiB) copied, 131.439 s, 52.8 MB/s
```
考虑到有些读者会纠结 bs 块大小与 count 块个数的关系，下面举一个吃货的例子进行解释。假设小明的饭量（即需求）是一个固定的值，用来盛饭的勺子的大小是 bs 块的大小，而用勺子盛饭的次数则是 count 块的个数。小明要想吃饱（满足需求），则需要在勺子大小（bs 块大小）与用勺子盛饭的次数（count 块个数）之间进行平衡。勺子越大，用勺子盛饭的次数就越少。由上可见，bs 与count 都是用来指定容量的大小，只要能满足需求，可随意组合搭配方式